<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Access and Analyze eBird Status and Trends Data • ebirdst</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Access and Analyze eBird Status and Trends Data">
<meta property="og:description" content="Tools to download, map, plot and analyze eBird
    Status and Trends data
    (&lt;https://ebird.org/science/status-and-trends&gt;). eBird
    (&lt;https://ebird.org&gt;) is a global database of bird observations
    collected by citizen scientists. eBird Status and Trends uses these
    data to analyse continental bird abundances, range boundaries,
    habitats, and trends.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ebirdst</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/ebirdst-introduction.html">Introduction - Data Access and Structure</a>
</li>
<li>
  <a href="articles/ebirdst-intro-mapping.html">Intro Mapping</a>
</li>
<li>
  <a href="articles/ebirdst-advanced-mapping.html">Advanced Mapping</a>
</li>
<li>
  <a href="articles/ebirdst-non-raster.html">Non-Raster Data</a>
</li>
<li>
  <a href="reference/index.html">Function Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CornellLabofOrnithology/ebirdst">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="ebirdst-access-and-analyze-ebird-status-and-trends-data" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ebirdst-access-and-analyze-ebird-status-and-trends-data" class="anchor"></a>ebirdst: Access and Analyze eBird Status and Trends Data</h1></div>

<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install <code>ebirdst</code> from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"ebirdst"</span>)</span></code></pre></div>
<p>Alternatively, you can install the development version from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>remotes<span class="op">::</span><span class="kw"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"CornellLabofOrnithology/ebirdst"</span>)</span></code></pre></div>
<p>The current version of <code>ebirdst</code> is designed for working with the eBird Status and Trends data estimated for 2018. Older versions of the Status and Trends data can be accessed by installing the associated version of <code>ebirdst</code> from GitHub. For example, 2016 estimates, corresponding to v0.1.0 of this package, can be accessed with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>remotes<span class="op">::</span><span class="kw"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"CornellLabofOrnithology/ebirdst@v0.1.0"</span>)</span></code></pre></div>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>If you use the the eBird Status &amp; Trends data please cite it with:</p>
<blockquote>
Fink, D., T. Auer, A. Johnston, M. Strimas-Mackey, O. Robinson, S.
Ligocki, B. Petersen, C. Wood, I. Davies, B. Sullivan, M. Iliff, S.
Kelling. 2020. eBird Status and Trends, Data Version: 2018; Released:
2020. Cornell Lab of Ornithology, Ithaca, New York.
<a href="https://doi.org/10.2173/ebirdst.2018" class="uri">https://doi.org/10.2173/ebirdst.2018</a>
</blockquote>
</div>
<div id="vignettes" class="section level2">
<h2 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes</h2>
<p>For a full introduction and advanced usage, please see the package <a href="https://cornelllabofornithology.github.io/ebirdst">website</a>. An <a href="https://cornelllabofornithology.github.io/ebirdst/articles/ebirdst-introduction.html">introductory vignette</a> details the data access and structure of the results. An <a href="https://cornelllabofornithology.github.io/ebirdst/articles/ebirdst-intro-mapping.html">intro mapping vignette</a> expands upon the quick start readme and shows the basic mapping moves. The <a href="https://cornelllabofornithology.github.io/ebirdst/articles/ebirdst-advanced-mapping.html">advanced mapping vignette</a> shows how to reproduce the seasonal maps and statistics on the <a href="https://ebird.org/science/status-and-trends">eBird Status and Trends website</a>. Finally, the <a href="https://cornelllabofornithology.github.io/ebirdst/articles/ebirdst-pipd.html">non-raster data vignette</a> details how to access additional information from the model results about predictor importance and directionality, as well as predictive performance metrics.</p>
<p>To access old versions of the vignettes suitable for working with previous eBird Status and Trends releases go to the <a href="https://github.com/CornellLabofOrnithology/ebirdst/releases">versions page of the GitHub repository</a>. Download and unzip the source code for the release associated with the version of the data you want to work with. Opening the file <code>docs/index.html</code> will open the package website for this version, which gives access to all the documentation and vignettes.</p>
</div>
<div id="quick-start" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-start" class="anchor"></a>Quick Start</h2>
<p>This quick start guide shows how to download data and plot abundance values similar to how they are plotted for the <a href="https://ebird.org/science/status-and-trends/woothr/abundance-map-weekly">eBird Status and Trends Abundance animations</a>. In this guide, a simplified example dataset is used consisting of Yellow-bellied Sapsucker in Michigan. For a full list of the species available for download, look at the data frame <code>ebirst_runs</code>, which is included in this package.</p>
<p><strong>Important note: after downloading the results, do not change the file structure.</strong> All functionality in this package relies on the structure inherent in the delivered results. Changing the folder and file structure will cause errors with this package. If you use this package to analyze the results, you do not ever need to interact with the files directly, outside of R.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ebirdst)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(viridis)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(raster)</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(sf)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rnaturalearth)</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co"># download data</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># download a simplified example dataset from aws s3</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co"># example data are for yellow-bellied sapsucker in michigan</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co"># by default files will be stored in a persistent data directory:</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co"># rappdirs::user_data_dir("ebirdst"))</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>sp_path &lt;-<span class="st"> </span><span class="kw"><a href="reference/ebirdst_download.html">ebirdst_download</a></span>(<span class="dt">species =</span> <span class="st">"example_data"</span>)</span>
<span id="cb4-13"><a href="#cb4-13"></a></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co"># load estimated relative abundance and label with dates</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co"># this raster stack has 52 layers, one for each week of the year</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>abunds &lt;-<span class="st"> </span><span class="kw"><a href="reference/load_raster.html">load_raster</a></span>(<span class="st">"abundance"</span>, <span class="dt">path =</span> sp_path)</span>
<span id="cb4-17"><a href="#cb4-17"></a></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co"># use parse_raster_dates() to get actual date objects for each layer</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>date_vector &lt;-<span class="st"> </span><span class="kw"><a href="reference/parse_raster_dates.html">parse_raster_dates</a></span>(abunds)</span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(date_vector)</span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">#&gt;  [1] "2018-01-04" "2018-01-11" "2018-01-18" "2018-01-25" "2018-02-01" "2018-02-08" "2018-02-15"</span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co">#&gt;  [8] "2018-02-22" "2018-03-01" "2018-03-08" "2018-03-15" "2018-03-22" "2018-03-29" "2018-04-05"</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co">#&gt; [15] "2018-04-12" "2018-04-19" "2018-04-26" "2018-05-03" "2018-05-10" "2018-05-17" "2018-05-24"</span></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="co">#&gt; [22] "2018-05-31" "2018-06-07" "2018-06-14" "2018-06-21" "2018-06-28" "2018-07-06" "2018-07-13"</span></span>
<span id="cb4-25"><a href="#cb4-25"></a><span class="co">#&gt; [29] "2018-07-20" "2018-07-27" "2018-08-03" "2018-08-10" "2018-08-17" "2018-08-24" "2018-08-31"</span></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co">#&gt; [36] "2018-09-07" "2018-09-14" "2018-09-21" "2018-09-28" "2018-10-05" "2018-10-12" "2018-10-19"</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co">#&gt; [43] "2018-10-26" "2018-11-02" "2018-11-09" "2018-11-16" "2018-11-23" "2018-11-30" "2018-12-07"</span></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="co">#&gt; [50] "2018-12-14" "2018-12-21" "2018-12-28"</span></span>
<span id="cb4-29"><a href="#cb4-29"></a></span>
<span id="cb4-30"><a href="#cb4-30"></a><span class="co"># select a week in the summer</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>abund &lt;-<span class="st"> </span>abunds[[<span class="dv">26</span>]]</span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="kw"><a href="https://rdrr.io/r/base/rm.html">rm</a></span>(abunds)</span>
<span id="cb4-33"><a href="#cb4-33"></a></span>
<span id="cb4-34"><a href="#cb4-34"></a><span class="co"># project to mollweide for mapping</span></span>
<span id="cb4-35"><a href="#cb4-35"></a><span class="co"># the nearest neighbor method preserves cell values across projections</span></span>
<span id="cb4-36"><a href="#cb4-36"></a>mollweide &lt;-<span class="st"> "+proj=moll +lon_0=-90 +x_0=0 +y_0=0 +ellps=WGS84"</span></span>
<span id="cb4-37"><a href="#cb4-37"></a>abund_moll &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/raster/man/projectRaster.html">projectRaster</a></span>(abund, <span class="dt">crs =</span> mollweide, <span class="dt">method =</span> <span class="st">"ngb"</span>)</span>
<span id="cb4-38"><a href="#cb4-38"></a></span>
<span id="cb4-39"><a href="#cb4-39"></a><span class="co"># get reference data from the rnaturalearth package</span></span>
<span id="cb4-40"><a href="#cb4-40"></a><span class="co"># the example data currently shows only the US state of Michigan</span></span>
<span id="cb4-41"><a href="#cb4-41"></a>wh_states &lt;-<span class="st"> </span><span class="kw"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_states.html">ne_states</a></span>(<span class="dt">country =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"United States of America"</span>, <span class="st">"Canada"</span>),</span>
<span id="cb4-42"><a href="#cb4-42"></a>                    <span class="dt">returnclass =</span> <span class="st">"sf"</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-43"><a href="#cb4-43"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="dt">crs =</span> mollweide) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-44"><a href="#cb4-44"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/st_geometry.html">st_geometry</a></span>()</span>
<span id="cb4-45"><a href="#cb4-45"></a>  </span>
<span id="cb4-46"><a href="#cb4-46"></a><span class="co"># calculate ideal color bins for abundance values for this week</span></span>
<span id="cb4-47"><a href="#cb4-47"></a>week_bins &lt;-<span class="st"> </span><span class="kw"><a href="reference/calc_bins.html">calc_bins</a></span>(abund_moll)</span>
<span id="cb4-48"><a href="#cb4-48"></a></span>
<span id="cb4-49"><a href="#cb4-49"></a><span class="co"># start plotting</span></span>
<span id="cb4-50"><a href="#cb4-50"></a><span class="kw"><a href="https://rdrr.io/r/graphics/par.html">par</a></span>(<span class="dt">mfrow =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">mar =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">6</span>))</span>
<span id="cb4-51"><a href="#cb4-51"></a></span>
<span id="cb4-52"><a href="#cb4-52"></a><span class="co"># use raster bounding box to set the spatial extent for the plot</span></span>
<span id="cb4-53"><a href="#cb4-53"></a>bb &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/st_as_sfc.html">st_as_sfc</a></span>(<span class="kw"><a href="https://rdrr.io/pkg/sf/man/st_bbox.html">st_bbox</a></span>(<span class="kw"><a href="https://rdrr.io/pkg/raster/man/trim.html">trim</a></span>(abund_moll)))</span>
<span id="cb4-54"><a href="#cb4-54"></a><span class="kw"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(bb, <span class="dt">col =</span> <span class="st">"white"</span>, <span class="dt">border =</span> <span class="st">"white"</span>)</span>
<span id="cb4-55"><a href="#cb4-55"></a></span>
<span id="cb4-56"><a href="#cb4-56"></a><span class="co"># add background reference data</span></span>
<span id="cb4-57"><a href="#cb4-57"></a><span class="kw"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(wh_states, <span class="dt">col =</span> <span class="st">"#eeeeee"</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</span>
<span id="cb4-58"><a href="#cb4-58"></a></span>
<span id="cb4-59"><a href="#cb4-59"></a><span class="co"># plot zeroes as gray</span></span>
<span id="cb4-60"><a href="#cb4-60"></a><span class="kw"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(abund_moll <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dt">col =</span> <span class="st">"#dddddd"</span>, </span>
<span id="cb4-61"><a href="#cb4-61"></a>     <span class="dt">maxpixels =</span> <span class="kw"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncell</a></span>(abund_moll),</span>
<span id="cb4-62"><a href="#cb4-62"></a>     <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">legend =</span> <span class="ot">FALSE</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</span>
<span id="cb4-63"><a href="#cb4-63"></a></span>
<span id="cb4-64"><a href="#cb4-64"></a><span class="co"># define color bins</span></span>
<span id="cb4-65"><a href="#cb4-65"></a>qcol &lt;-<span class="st"> </span><span class="kw"><a href="reference/abundance_palette.html">abundance_palette</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(week_bins<span class="op">$</span>bins) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>, <span class="st">"weekly"</span>)</span>
<span id="cb4-66"><a href="#cb4-66"></a></span>
<span id="cb4-67"><a href="#cb4-67"></a><span class="co"># plot abundances</span></span>
<span id="cb4-68"><a href="#cb4-68"></a><span class="kw"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(abund_moll, <span class="dt">col =</span> qcol, <span class="dt">breaks =</span> week_bins<span class="op">$</span>bins,</span>
<span id="cb4-69"><a href="#cb4-69"></a>     <span class="dt">maxpixels =</span> <span class="kw"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncell</a></span>(abund_moll),</span>
<span id="cb4-70"><a href="#cb4-70"></a>     <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">legend =</span> <span class="ot">FALSE</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</span>
<span id="cb4-71"><a href="#cb4-71"></a></span>
<span id="cb4-72"><a href="#cb4-72"></a><span class="co"># for legend, create a smaller set of bin labels</span></span>
<span id="cb4-73"><a href="#cb4-73"></a>bin_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/format.html">format</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(week_bins<span class="op">$</span>bins, <span class="dv">2</span>), <span class="dt">nsmall =</span> <span class="dv">2</span>)</span>
<span id="cb4-74"><a href="#cb4-74"></a>bin_labels[<span class="op">!</span>(bin_labels <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(bin_labels[<span class="dv">1</span>],</span>
<span id="cb4-75"><a href="#cb4-75"></a>                               bin_labels[<span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>((<span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(bin_labels) <span class="op">/</span><span class="st"> </span><span class="dv">2</span>)) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>],</span>
<span id="cb4-76"><a href="#cb4-76"></a>                               bin_labels[<span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(bin_labels)]))] &lt;-<span class="st"> ""</span></span>
<span id="cb4-77"><a href="#cb4-77"></a>bin_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"0"</span>, bin_labels)</span>
<span id="cb4-78"><a href="#cb4-78"></a></span>
<span id="cb4-79"><a href="#cb4-79"></a><span class="co"># create colors that include gray for 0</span></span>
<span id="cb4-80"><a href="#cb4-80"></a>lcol &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#dddddd"</span>, qcol)</span>
<span id="cb4-81"><a href="#cb4-81"></a></span>
<span id="cb4-82"><a href="#cb4-82"></a><span class="co"># set legend such that color ramp appears linearly</span></span>
<span id="cb4-83"><a href="#cb4-83"></a>ltq &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dt">from =</span> week_bins<span class="op">$</span>bins[<span class="dv">1</span>], <span class="dt">to =</span> week_bins<span class="op">$</span>bins[<span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(week_bins<span class="op">$</span>bins)],</span>
<span id="cb4-84"><a href="#cb4-84"></a>           <span class="dt">length.out =</span> <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(week_bins<span class="op">$</span>bins))</span>
<span id="cb4-85"><a href="#cb4-85"></a>ltq &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, ltq)</span>
<span id="cb4-86"><a href="#cb4-86"></a></span>
<span id="cb4-87"><a href="#cb4-87"></a><span class="co"># plot legend</span></span>
<span id="cb4-88"><a href="#cb4-88"></a><span class="kw"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(abund_moll <span class="op">^</span><span class="st"> </span>week_bins<span class="op">$</span>power, <span class="dt">legend.only =</span> <span class="ot">TRUE</span>,</span>
<span id="cb4-89"><a href="#cb4-89"></a>     <span class="dt">col =</span> lcol,</span>
<span id="cb4-90"><a href="#cb4-90"></a>     <span class="dt">breaks =</span> ltq <span class="op">^</span><span class="st"> </span>week_bins<span class="op">$</span>power, </span>
<span id="cb4-91"><a href="#cb4-91"></a>     <span class="dt">lab.breaks =</span> bin_labels, <span class="dt">legend.shrink =</span> <span class="fl">0.97</span>,</span>
<span id="cb4-92"><a href="#cb4-92"></a>     <span class="dt">legend.width =</span> <span class="dv">2</span>, <span class="dt">axis.args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">cex.axis =</span> <span class="fl">0.9</span>, <span class="dt">lwd.ticks =</span> <span class="dv">0</span>))</span>
<span id="cb4-93"><a href="#cb4-93"></a></span>
<span id="cb4-94"><a href="#cb4-94"></a><span class="co"># add state boundaries on top</span></span>
<span id="cb4-95"><a href="#cb4-95"></a><span class="kw"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(<span class="kw"><a href="https://rdrr.io/pkg/sf/man/st_geometry.html">st_geometry</a></span>(wh_states), <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="st">"white"</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>)</span></code></pre></div>
<p><img src="README-quick_start-1.png" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=ebirdst">https://​cloud.r-project.org/​package=ebirdst</a>
</li>
<li>Browse source code at <br><a href="https://github.com/CornellLabofOrnithology/ebirdst">https://​github.com/​CornellLabofOrnithology/​ebirdst</a>
</li>
<li>Report a bug at <br><a href="https://github.com/CornellLabofOrnithology/ebirdst/issues">
    https://​github.com/​CornellLabofOrnithology/​ebirdst/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing ebirdst</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://strimas.com">Matthew Strimas-Mackey</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8929-7776" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
<li>
<a href="http://twitter.com/tom_auer">Tom Auer</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8619-7147" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
<li>Daniel Fink <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-8368-1248" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://ci.appveyor.com/project/mstrimas/ebirdst/branch/master"><img src="https://ci.appveyor.com/api/projects/status/v7cyxwquwrxxa5l6/branch/master?svg=true" alt="AppVeyor Build status"></a></li>
<li><a href="https://travis-ci.org/CornellLabofOrnithology/ebirdst"><img src="https://travis-ci.org/CornellLabofOrnithology/ebirdst.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/github/CornellLabofOrnithology/ebirdst?branch=master"><img src="https://codecov.io/gh/CornellLabofOrnithology/ebirdst/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://cran.r-project.org/package=ebirdst"><img src="https://www.r-pkg.org/badges/version/ebirdst" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://strimas.com">Matthew Strimas-Mackey</a>, <a href="http://twitter.com/tom_auer">Tom Auer</a>, Daniel Fink.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
