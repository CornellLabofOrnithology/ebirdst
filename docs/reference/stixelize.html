<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate polygons for eBird Status and Trends stixels — stixelize • ebirdst</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate polygons for eBird Status and Trends stixels — stixelize" />
<meta property="og:description" content="eBird Status and Trends divides space and time into variably sized &quot;stixels&quot;
within which individual base models are fit. The process of stixelization is
performed many times and the prediction at any given point is the median of
the predictions from all the stixels that that point falls in.
load_stixels() loads information on all the stixels that compromise a
species' Status and Trends model, with stixels identified by the location of
their centroid. This function uses this information to define polygons for
each stixel and attaches them to the original data in the form of an sf
object." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ebirdst</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/ebirdst.html">Get Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ebirdst-intro-mapping.html">Introduction to Mapping</a>
    </li>
    <li>
      <a href="../articles/ebirdst-advanced-mapping.html">Advanced Mapping</a>
    </li>
    <li>
      <a href="../articles/ebirdst-non-raster.html">Non-raster Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li>
  <a href="../articles/product-changelog.html">Data Product Changelog</a>
</li>
<li>
  <a href="../news/index.html">Version History</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CornellLabofOrnithology/ebirdst/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate polygons for eBird Status and Trends stixels</h1>
    <small class="dont-index">Source: <a href='https://github.com/CornellLabofOrnithology/ebirdst/blob/master/R/ebirdst-stixels.R'><code>R/ebirdst-stixels.R</code></a></small>
    <div class="hidden name"><code>stixelize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>eBird Status and Trends divides space and time into variably sized "stixels"
within which individual base models are fit. The process of stixelization is
performed many times and the prediction at any given point is the median of
the predictions from all the stixels that that point falls in.
<code><a href='load_stixels.html'>load_stixels()</a></code> loads information on all the stixels that compromise a
species' Status and Trends model, with stixels identified by the location of
their centroid. This function uses this information to define polygons for
each stixel and attaches them to the original data in the form of an <a href='https://r-spatial.github.io/sf/reference/sf.html'>sf</a>
object.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>stixelize</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>data.frame</code> or <a href='https://r-spatial.github.io/sf/reference/sf.html'>sf</a> object; stixel summary data loaded with
<code><a href='load_stixels.html'>load_stixels()</a></code>, or any other data frame with fields <code>lon</code>, <code>lat</code>,
<code>stixel_width</code>, and <code>stixel_hight</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf</a> object with geometry column storing polygons representing the
stixels boundaries.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='co'># \donttest{</span></span>
<span class='r-in'><span class='co'># download example data</span></span>
<span class='r-in'><span class='va'>path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='ebirdst_download.html'>ebirdst_download</a></span><span class='op'>(</span><span class='st'>"example_data"</span>, tifs_only <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> Data already exists, use force = TRUE to re-download.</span>
<span class='r-in'><span class='co'># or get the path if you already have the data downloaded</span></span>
<span class='r-in'><span class='va'>path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_species_path.html'>get_species_path</a></span><span class='op'>(</span><span class='st'>"example_data"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># load stixel summary information</span></span>
<span class='r-in'><span class='va'>stixels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='load_stixels.html'>load_stixels</a></span><span class='op'>(</span><span class='va'>path</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># build stixel polygons</span></span>
<span class='r-in'><span class='fu'>stixelize</span><span class='op'>(</span><span class='va'>stixels</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Simple feature collection with 3700 features and 29 fields</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Geometry type: POLYGON</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Dimension:     XY</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Bounding box:  xmin: -93.86113 ymin: 40.56112 xmax: -78.80564 ymax: 50.21891</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> First 10 features:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>           stixel_id       lon      lat        date stixel_width stixel_height</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1  1-169.6-NSEWWEWW -86.72710 46.30995 0.500880326      4.73081       1.81187</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2  1-108.6-NSSEEWNW -83.54380 42.42114 0.344823682      3.23046       2.21154</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3  1-352.6-EWNWNSNN -82.83012 43.63808 0.005464481      3.33313       2.34478</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4  1-230.6-EWWNEWSE -84.03641 43.67917 0.673440100      3.43633       1.75858</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5  1-200.1-NSSWNENW -85.47172 44.18639 0.587080865      2.72994       2.23819</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6  1-230.6-EWWNEWSS -85.20056 41.99930 0.673173522      3.27365       1.75858</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7  1-291.6-NSWESSNN -84.42356 41.74085 0.837381337      4.27825       1.83852</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8   1-230.6-EWWNEWN -87.98485 46.48139 0.672797832      7.12135       3.57045</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9   1-78.1-NSSNEWWE -86.46522 44.04628 0.252486672      3.86278       1.70529</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10 1-200.1-NSSWNENS -82.90375 43.36570 0.587146268      2.71897       2.26483</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    stixel_area train_n positive_ob_n stixel_prevalence mean_non_zero_count</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1        35201    2058           544        0.26433431            1.805147</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2        35095    4560           810        0.17763158            1.275309</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3        34902       0             0                NA                  NA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4        35060    2700           181        0.06703704            1.337017</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5        35078    2620           294        0.11221374            1.591837</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6        35131    3766            16        0.00424854            1.187500</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7        35095    3835            85        0.02216428            1.105882</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8       140303    3562           432        0.12128018            1.550926</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9        35034    3539           458        0.12941509            1.908297</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10       35087    2181            83        0.03805594            1.409639</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    train_n_occ n_pos_occ train_n_abund n_pos_abund mean_occ_pred</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1         2038       524           983         767     0.3933004</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2         4500       750          1738        1401     0.3313653</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3            0         0             0           0     0.0000000</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4         2687       168           978         860     0.2788611</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5         2609       283          1146         956     0.3259508</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6         3765        15          1295        1260     0.3598052</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7         3826        76          1363        1269     0.3254317</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8         3538       408          1290        1054     0.3381015</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9         3496       415          1473        1227     0.3173114</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10        2178        80           779         721     0.2215961</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    total_effort_hrs total_effort_distance_km total_number_observers occ_thresh</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1          2093.094                 4344.600                   3306 0.38392039</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2          5585.933                 7301.025                   8485 0.31032601</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3             0.000                    0.000                      0 0.00000000</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4          3311.006                 4486.403                   3919 0.18839061</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5          3012.466                 3864.497                   3873 0.24341738</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6          3655.506                 4528.257                   5653 0.02355879</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7          2996.631                 3957.013                   5856 0.07706694</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8          4437.137                 6220.087                   5672 0.23287242</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9          3394.463                 4450.686                   5479 0.30808184</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10         2656.028                 3908.715                   2931 0.17881585</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    is_assumed_zero neg_grid_cells pos_grid_cells stixel_n st_pos_n avg_spat_cov</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1                0           1514            527     3566      670   0.05311488</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2                0           3750            771    51468      892   0.35259644</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3                1              0              0     6323        5   0.08684635</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4                0           2519            180     6244      161   0.10274459</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5                0           2326            292     5515      283   0.07814688</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6                0           3750             16    11475       14   0.19109528</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7                0           3750             85     9789       75   0.09816320</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8                0           3130            423     7545      430   0.03286619</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9                0           3081            443     7941      420   0.11593919</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10               0           2098             83     4830       78   0.06775083</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     max_time max_effort_hrs max_effort_distance_km</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1  -6.771908          3.000                  3.540</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2  -5.476377          3.000                  3.219</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3         NA             NA                     NA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4  -6.419167          4.500                  6.759</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5  -6.227234          2.833                  6.437</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6  -5.591389          2.167                  3.219</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7  -3.865954          2.500                  3.219</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8  -5.987500          4.500                  7.242</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9  -5.758551          4.000                  2.414</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10 -6.613333          4.500                 10.000</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                          geometry</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1  POLYGON ((-89.09251 45.4040...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2  POLYGON ((-85.15903 41.3153...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3  POLYGON ((-84.49668 42.4656...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4  POLYGON ((-85.75457 42.7998...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5  POLYGON ((-86.83669 43.0672...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6  POLYGON ((-86.83738 41.1200...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 7  POLYGON ((-86.56269 40.8215...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 8  POLYGON ((-91.54552 44.6961...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 9  POLYGON ((-88.39661 43.1936...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 10 POLYGON ((-84.26323 42.2332...</span>
<span class='r-in'><span class='co'># }</span></span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="http://strimas.com" class="external-link">Matthew Strimas-Mackey</a>, Shawn Ligocki, <a href="http://twitter.com/tom_auer" class="external-link">Tom Auer</a>, Daniel Fink.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


